!function o(s,a,c){function u(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(h)return h(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[e]={exports:{}};s[e][0].call(i.exports,function(t){return u(s[e][1][t]||t)},i,i.exports,o,s,a,c)}return a[e].exports}for(var h="function"==typeof require&&require,t=0;t<c.length;t++)u(c[t]);return u}({1:[function(t,e,n){"use strict";var r=t("../../index.js"),i=document.getElementById("world"),o=i.getContext("2d"),s=i.width,a=i.height,c=8,u=8;s/=u,a/=c;var h={x:3,y:3,origin_type:r.ORIGIN_CENTER,rotation:0},y={x:5,y:6,origin_type:r.ORIGIN_CENTER,rotation:0},f=h;function l(t,e,n){o.beginPath(),t=t*s+s/2,e=e*a+a/2;var r=s/4;o.beginPath(),o.arc(t,e,r,0,2*Math.PI,!1),o.fillStyle=n,o.fill(),o.beginPath(),o.arc(t,e,r/10,0,2*Math.PI,!1),o.fillStyle="red",o.fill(),o.lineWidth=1,o.strokeStyle="#003300",o.stroke()}document.body.addEventListener("input",function(t){event.target.classList.contains("rotation_setting")&&(f.rotation=t.target.value)}),document.body.addEventListener("click",function(t){var e=t.target.classList;e.contains("origin_change")&&(f.origin_type=r[t.target.innerText]),e.contains("switch_player")&&(f=f===h?y:h,document.getElementById("rotation_setting").value=f.rotation)});function p(t){return r.create(t.origin_type,t.x+.5,t.y-.5,.5,.5,t.rotation)}function _(t,e){var n=p(t),r=p(e),i=n.intersects(r);n.drawOnCanvas(o,s,a,i,1,"red","goldenrod"),r.drawOnCanvas(o,s,a,i,1,"red","goldenrod")}window.addEventListener("keydown",function(t){38==t.which?(--f.y,f.y<0&&(f.y=c-1)):40==t.which?(f.y+=1,f.y>=c&&(f.y=0)):37==t.which?(--f.x,f.x<0&&(f.x=u-1)):39==t.which&&(f.x+=1,f.x>=u&&(f.x=0))}),function t(){o.clearRect(0,0,i.width,i.height),function(){o.beginPath(),o.fillStyle="gray";for(var t=0;t<c;++t)for(var e=0,n=u/2;e<n;++e)o.rect(2*e*s+(t%2?0:s),t*a,s,a);o.fill()}(),_(h,y),_(y,h),l(h.x,h.y,"green"),l(y.x,y.y,"orange"),window.requestAnimationFrame(t)}()},{"../../index.js":2}],2:[function(t,e,n){"use strict";function r(t,e,n){return(r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=t("vector2d").Vector,c=t("./shape/box"),m=t("./math/minmax"),u=function(){function u(t,e,n,r,i,o){if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.min_x=t<n?t:n,this.max_x=n<t?t:n,this.min_y=e<r?e:r,this.max_y=r<e?e:r,this.degrees=o?o%360:0,i instanceof h)this.setOriginVector(i),this.origin=u.ORIGIN_MANUAL;else switch(this.origin=i||u.ORIGIN_CENTER,i){case u.ORIGIN_CENTER:this.setOriginVector(new h(this.min_x+(this.max_x-this.min_x)/2,this.min_y+(this.max_y-this.min_y)/2));break;case u.ORIGIN_LEFT_BOTTOM:this.setOriginVector(new h(this.min_x,this.min_y));break;case u.ORIGIN_CENTER_BOTTOM:this.setOriginVector(new h(this.min_x+(this.max_x-this.min_x)/2,this.min_y));break;case u.ORIGIN_RIGHT_BOTTOM:this.setOriginVector(new h(this.max_x,this.min_y+(this.max_y-this.min_y)/2));break;case u.ORIGIN_LEFT_CENTER:this.setOriginVector(new h(this.min_x,this.min_y+(this.max_y-this.min_y)/2));break;case u.ORIGIN_LEFT_TOP:this.setOriginVector(new h(this.min_x,this.max_y));break;case u.ORIGIN_CENTER_TOP:this.setOriginVector(new h(this.min_x+(this.max_x-this.min_x)/2,this.max_y));break;case u.ORIGIN_RIGHT_TOP:this.setOriginVector(new h(this.max_x,this.max_y));break;case u.ORIGIN_RIGHT_CENTER:this.setOriginVector(new h(this.max_x,this.min_y+(this.max_y-this.min_y)/2))}}var t,e,n;return t=u,n=[{key:"create",value:function(t,e,n,r,i){if(t instanceof h){var o=e-t.getX(),s=n-t.getY();return new u(e-o,n-s,e+(r-o),n+(i-s),u.ORIGIN_MANUAL,rotation)}if(isNaN(t)||9<t||t<1)throw new Error("Invalid location of origin specified. use BoundingBox.ORIGIN_CENTER or one of the other 8 options");var a=r/2,c=i/2;switch(t){case u.ORIGIN_CENTER:return console.log("hey"),new u(e-a,n-c,e+a,n+c,t);case u.ORIGIN_LEFT_BOTTOM:return new u(e,n-i,e+r,n,t);case u.ORIGIN_CENTER_BOTTOM:return new u(e-a,n-i,e+a,n,t);case u.ORIGIN_RIGHT_BOTTOM:return new u(e-r,n-i,e,n,t);case u.ORIGIN_LEFT_CENTER:return new u(e,n-c,e+r,n+c,t);case u.ORIGIN_LEFT_TOP:return new u(e,n,e+r,n+i,t);case u.ORIGIN_CENTER_TOP:return new u(e-a,n,e+a,n+i,t);case u.ORIGIN_RIGHT_TOP:return new u(e-r,n,e,n+i,t);case u.ORIGIN_RIGHT_CENTER:return new u(e-r,n-c,e,n+c,t)}}}],(e=[{key:"getMinX",value:function(){return this.min_x}},{key:"getMinY",value:function(){return this.min_y}},{key:"getMaxX",value:function(){return this.max_x}},{key:"getMaxY",value:function(){return this.max_y}},{key:"getOrigin",value:function(){return this.origin}},{key:"getHeight",value:function(){return this.max_y-this.min_y}},{key:"getWidth",value:function(){return this.max_x-this.min_x}},{key:"getDegrees",value:function(){return this.degrees}},{key:"check",value:function(t){if(!(t instanceof u))throw new Error("Please provide a BoundingBox instance as argument to BoundingBox.intersects().")}},{key:"intersects_basic",value:function(t){return!(t.min_x>this.max_x||t.max_x<this.min_x||t.max_y<this.min_y||t.min_y>this.max_y)}},{key:"intersects",value:function(t){if(this.check(t),!this.getDegrees()&&!t.getDegrees()||180===this.getDegrees()&&180===t.getDegrees())return this.intersects_basic(t)}},{key:"intersects_rotated",value:function(t){var e=this.getBox(),n=t.getBox(),r=e.getNormals(),i=n.getNormals(),o=m(e,r[1]),s=m(n,r[1]),a=m(e,r[0]),c=m(n,r[0]),u=m(e,i[1]),h=m(n,i[1]),y=m(e,i[0]),f=m(n,i[0]),l=o.max_proj<s.min_proj||s.max_proj<o.min_proj,p=a.max_proj<c.min_proj||c.max_proj<a.min_proj,_=u.max_proj<h.min_proj||h.max_proj<u.min_proj,x=y.max_proj<f.min_proj||f.max_proj<y.min_proj;return!(l||p||_||x)}},{key:"getBox",value:function(){var t=r(c,i(this.getPoints()));return(this.degrees&&0<this.degrees||this.degrees<0)&&(t=t.rotate(this.getOriginVector(),this.degrees)),t}},{key:"getOriginVector",value:function(){return this.origin_location}},{key:"setOriginVector",value:function(t){if(!(t instanceof h))throw new Error("Please provide npm vector2d.Vector");this.origin_location=t}},{key:"getNormals",value:function(){return this.getBox().getNormals()}},{key:"getRotatedPoints",value:function(){return this.getBox().rotate(this.getOriginVector(),this.degrees).getPoints()}},{key:"drawOnCanvas",value:function(n,r,i,t,e,o,s){var a=this.getRotatedPoints();n.beginPath(),n.lineWidth=e||1,n.strokeStyle=o||"red";var c=a.shift();console.log(c.getX(),c.getY(),c.getX()*r,c.getY()*i,r,i),n.moveTo(c.getX()*r,c.getY()*i),a.forEach(function(t,e){n.lineTo(t.getX()*r,t.getY()*i)}),n.lineTo(c.getX()*r,c.getY()*i),t&&(n.fillStyle=s||"goldenrod",n.fill()),n.stroke()}},{key:"getPoints",value:function(){return[new h(this.getMaxX(),this.getMaxY()),new h(this.getMaxX(),this.getMinY()),new h(this.getMinX(),this.getMinY()),new h(this.getMinX(),this.getMaxY())]}},{key:"expand",value:function(t){this.check(t),t.min_x<this.min_x&&(this.min_x=t.min_x),t.min_y<this.min_y&&(this.min_y=t.min_y),t.max_x>this.max_x&&(this.max_x=t.max_x),t.max_y>this.max_y&&(this.max_y=t.max_y)}},{key:"clone",value:function(){return new u(this.min_x,this.min_y,this.max_x,this.max_y,this.origin)}}])&&a(t.prototype,e),n&&a(t,n),u}();u.ORIGIN_CENTER=1,u.ORIGIN_LEFT_BOTTOM=2,u.ORIGIN_RIGHT_BOTTOM=3,u.ORIGIN_CENTER_BOTTOM=4,u.ORIGIN_LEFT_CENTER=5,u.ORIGIN_LEFT_TOP=6,u.ORIGIN_CENTER_TOP=7,u.ORIGIN_RIGHT_TOP=8,u.ORIGIN_RIGHT_CENTER=9,u.ORIGIN_MANUAL=10,e.exports=u},{"./math/minmax":3,"./shape/box":9,vector2d:7}],3:[function(t,e,n){"use strict";var u=t("../shape/box.js"),h=t("vector2d");e.exports=function(t,e){if(!(t instanceof u))throw new Error("Please provide 2d-bounding-box/shape/Box instance as the first argument");if(!(e instanceof h))throw new Error("Please provide npm vector2d instance as the axis on the second argument");for(var n=t.getPoints(),r=n[0].dot(e),i=r,o=0,s=0,a=1;a<n.length;a++){var c=n[a].dot(axis);c<r&&(r=c,o=a),i<c&&(i=c,s=j)}return{minimum_projection:r,maximum_projection:i,min_index:o,max_index:s}}},{"../shape/box.js":9,vector2d:7}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10],i=(o.prototype.setAxes=function(t,e){return this.x=t,this.y=e,this},o.prototype.getX=function(){return this.x},o.prototype.setX=function(t){return this.x=t,this},o.prototype.getY=function(){return this.y},o.prototype.setY=function(t){return this.y=t,this},o.prototype.toString=function(t){return void 0===t&&(t=!1),t?"("+Math.round(this.x)+", "+Math.round(this.y)+")":"("+this.x+", "+this.y+")"},o.prototype.toArray=function(){return[this.x,this.y]},o.prototype.toObject=function(){return{x:this.x,y:this.y}},o.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},o.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},o.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},o.prototype.multiplyByVector=function(t){return this.x*=t.x,this.y*=t.y,this},o.prototype.mulV=function(t){return this.multiplyByVector(t)},o.prototype.divideByVector=function(t){return this.x/=t.x,this.y/=t.y,this},o.prototype.divV=function(t){return this.divideByVector(t)},o.prototype.multiplyByScalar=function(t){return this.x*=t,this.y*=t,this},o.prototype.mulS=function(t){return this.multiplyByScalar(t)},o.prototype.divideByScalar=function(t){return this.x/=t,this.y/=t,this},o.prototype.divS=function(t){return this.divideByScalar(t)},o.prototype.normalise=function(){return this.divideByScalar(this.magnitude())},o.prototype.normalize=function(){return this.normalise()},o.prototype.unit=function(){return this.normalise()},o.prototype.magnitude=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},o.prototype.length=function(){return this.magnitude()},o.prototype.lengthSq=function(){var t=this.x,e=this.y;return t*t+e*e},o.prototype.dot=function(t){return t.x*this.x+t.y*this.y},o.prototype.cross=function(t){return this.x*t.y-this.y*t.x},o.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},o.prototype.abs=function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this},o.prototype.zero=function(){return this.x=this.y=0,this},o.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},o.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.x,i=this.y;return this.x=r*e-i*n,this.y=r*n+i*e,this},o.prototype.round=function(t){void 0===t&&(t=2);var e=r[t];return this.x=(.5+this.x*e<<0)/e,this.y=(.5+this.y*e<<0)/e,this},o.prototype.clone=function(){return new this.ctor(this.x,this.y)},o);function o(t){this.ctor=t}n.AbstractVector=i},{}],5:[function(t,e,n){"use strict";var r,i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o,s=t("./AbstractVector"),a=(o=s.AbstractVector,i(c,o),Object.defineProperty(c.prototype,"x",{get:function(){return this.axes[0]},set:function(t){this.axes[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"y",{get:function(){return this.axes[1]},set:function(t){this.axes[1]=t},enumerable:!0,configurable:!0}),c);function c(t,e){var n=o.call(this,c)||this;return n.axes=[t,e],n.ctor=c,n}n.ArrayVector=a},{"./AbstractVector":4}],6:[function(t,e,n){"use strict";var r,i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o,s=t("./AbstractVector"),a=(o=s.AbstractVector,i(c,o),Object.defineProperty(c.prototype,"x",{get:function(){return this.axes[0]},set:function(t){this.axes[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"y",{get:function(){return this.axes[1]},set:function(t){this.axes[1]=t},enumerable:!0,configurable:!0}),c);function c(t,e){var n=o.call(this,c)||this;return n.axes=new Float32Array(2),n.axes[0]=t,n.axes[1]=e,n}n.Float32Vector=a},{"./AbstractVector":4}],7:[function(t,e,n){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),r(t("./AbstractVector")),r(t("./ArrayVector")),r(t("./Float32Vector")),r(t("./Vector"))},{"./AbstractVector":4,"./ArrayVector":5,"./Float32Vector":6,"./Vector":8}],8:[function(t,e,n){"use strict";var r,i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o,s=t("./AbstractVector"),a=(o=s.AbstractVector,i(c,o),Object.defineProperty(c.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),c);function c(t,e){var n=o.call(this,c)||this;return n._x=t,n._y=e,n}n.Vector=a},{"./AbstractVector":4}],9:[function(t,e,n){"use strict";function u(t,e,n){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=t("vector2d").Vector;e.exports=function(){function c(t,e,n,r){if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),!(t instanceof h&&e instanceof h&&n instanceof h&&r instanceof h))throw new Error("Please provide npm vector2d.Vector instances to create a Box");this.point1=t.clone(),this.point2=e.clone(),this.point3=n.clone(),this.point4=r.clone(),this.normal1=e.clone().subtract(t).normalize(),this.normal2=n.clone().subtract(e).normalize(),this.normal3=r.clone().subtract(n).normalize(),this.normal4=t.clone().subtract(r).normalize()}var t,e,n;return t=c,(e=[{key:"rotate",value:function(n,t){var r=this;if(!(n instanceof h))throw new Error("Please provide an npm vector2d.Vector instance as the origin point");(t%=360)<0&&(t=360-t);var i=Math.PI/180*t,o=Math.cos(i),s=Math.sin(i),e=this.getPoints(),a=[];return e.forEach(function(t,e){a.push(r.rotateVectorPoint(t,i,o,s,n))}),u(c,a)}},{key:"rotateVectorPoint",value:function(t,e,n,r,i){var o=t.getX(),s=t.getY(),a=i.getX(),c=i.getY();return new h(n*(o-a)+r*(s-c)+a,n*(s-c)-r*(o-a)+c)}},{key:"getPoints",value:function(){return[this.point1.clone(),this.point2.clone(),this.point3.clone(),this.point4.clone()]}},{key:"getNormals",value:function(){return[this.normal1.clone(),this.normal2.clone(),this.normal3.clone(),this.normal4.clone()]}}])&&r(t.prototype,e),n&&r(t,n),c}()},{vector2d:7}]},{},[1]);
//# sourceMappingURL=demo/js/test_basic.demo.min.js.map
