{"version":3,"sources":["node_modules/browser-pack/_prelude.js","demo/js/demo_basic.js","index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","BoundingBox","canvas","document","getElementById","ctx","getContext","w","width","h","height","nRow","nCol","player1","x","y","origin_type","ORIGIN_CENTER","player2","player","drawPlayer","posX","posY","color","beginPath","radius","arc","Math","PI","fillStyle","fill","lineWidth","strokeStyle","stroke","body","addEventListener","event","classlist","target","classList","contains","innerText","getBB","create","drawBB","other","bb","bb_other","rect","getMinX","getMaxY","getWidth","getHeight","intersects","window","which","paint","clearRect","j","col","drawCheckeredBackground","requestAnimationFrame","min_x","min_y","max_x","max_y","origin","_classCallCheck","this","origin_location","pos_x","pos_y","isNaN","half_width","half_height","ORIGIN_LEFT_BOTTOM","ORIGIN_CENTER_BOTTOM","ORIGIN_RIGHT_BOTTOM","ORIGIN_LEFT_CENTER","ORIGIN_LEFT_TOP","ORIGIN_CENTER_TOP","ORIGIN_RIGHT_TOP","ORIGIN_RIGHT_CENTER","bounding_box","check"],"mappings":"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","file":"../../test_basic.demo.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","let BoundingBox = require('../../index.js');\nlet canvas = document.getElementById('world');\nlet ctx = canvas.getContext('2d');\nvar w = canvas.width;\nvar h = canvas.height;\n\n\nvar nRow =  8;    // default number of rows\nvar nCol = 8;    // default number of columns\n\nw /= nCol;            // width of a block\nh /= nRow;            // height of a block\n\nvar player1 = {x: 3, y:3, origin_type: BoundingBox.ORIGIN_CENTER};\nvar player2 = {x: 5, y:6, origin_type: BoundingBox.ORIGIN_CENTER};\nlet player = player1;\n\n\n/**\n * function made by user2570380\n * https://stackoverflow.com/a/27667424/1356107\n * License CC-BY-SA-3.0\n * @param can \n * @param nRow\n * @param nCol\n * @returns undefined;\n */\nfunction drawCheckeredBackground() {\n    ctx.beginPath();\n    ctx.fillStyle = 'gray';\n    for (var i = 0; i < nRow; ++i) {\n        for (var j = 0, col = nCol / 2; j < col; ++j) {\n            ctx.rect(2 * j * w + (i % 2 ? 0 : w), i * h, w, h);\n        }\n    }\n    \n\n    ctx.fill();\n}\n\nfunction drawPlayer(posX, posY, color) \n{\n    ctx.beginPath();\n    posX = (posX * w) + (w / 2);\n    posY = (posY * h) + (h / 2);\n    var radius = w/4;\n\n    ctx.beginPath();\n    ctx.arc(posX, posY, radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = color;\n    ctx.fill();\n    ctx.beginPath();\n    ctx.arc(posX, posY, radius / 10, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'red';\n    ctx.fill();\n    \n    ctx.lineWidth = 1;\n    ctx.strokeStyle = '#003300';\n    ctx.stroke();\n}\n\ndocument.body.addEventListener(\"click\", function (event) {\n    let classlist = event.target.classList;\n    if (classlist.contains(\"origin_change\")) {\n        player.origin_type = BoundingBox[event.target.innerText];\n    }\n    if(classlist.contains('switch_player')) {\n        player = (player === player1 ? player2 : player1);\n    }\n    \n  });\n\nlet UP=38,DOWN=40,RIGHT=39,LEFT=37;\nwindow.addEventListener('keydown', (e) => {\n   if(e.which == UP) {\n       player.y -= 1; \n       if(player.y < 0) {\n           player.y = nRow-1;\n       }\n   }\n   else if(e.which == DOWN) {\n       player.y += 1; \n       if(player.y >= nRow) {\n           player.y = 0;\n       }\n   }\n   else if(e.which == LEFT) {\n       player.x -= 1; \n       if(player.x < 0) {\n           player.x = nCol-1;\n       }\n   }\n   else if(e.which == RIGHT) {\n       player.x += 1; \n       if(player.x >= nCol) {\n           player.x = 0;\n       }\n   }\n});\n\nfunction getBB(player) \n{\n    return BoundingBox.create(player.origin_type, player.x+0.5, player.y-0.5, 1, 1);;\n}\n\nfunction drawBB(player, other) \n{\n    ctx.beginPath();\n    let bb = getBB(player);\n    let bb_other = getBB(other);\n    //console.log(bb);\n    ctx.rect(bb.getMinX() * w, bb.getMaxY() * h, bb.getWidth() * w, bb.getHeight()*h);\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = 'red';\n    ctx.stroke();   \n    if(bb.intersects(bb_other)) {\n        ctx.fillStyle = 'goldenrod';\n        ctx.fill();\n    }\n}\n\nfunction paint() {\n    \n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    drawCheckeredBackground();\n    drawBB(player1, player2);\n    drawBB(player2, player1);\n    drawPlayer(player1.x, player1.y, \"green\");\n    drawPlayer(player2.x, player2.y, \"orange\");\n    window.requestAnimationFrame(paint);\n};\npaint();\n\n","class BoundingBox \n{\n    constructor(min_x, min_y, max_x, max_y, origin) \n    {\n        this.min_x = min_x < max_x ? min_x : max_x;\n        this.max_x = min_x > max_x ? min_x : max_x;\n        this.min_y = min_y < max_y ? min_y : max_y;\n        this.max_y = min_y > max_y ? min_y : max_y;\n        this.origin = origin ? origin : BoundingBox.ORIGIN_CENTER;\n    }\n    static create(origin_location, pos_x, pos_y, width, height) \n    {\n        if(isNaN(origin_location) || origin_location > 9 || origin_location < 1) {\n            throw new Error(\"Invalid location of origin specific. use BoundingBox.ORIGIN_CENTER or one of the other 8 options\");\n        }\n        \n        let half_width = width / 2;\n        let half_height = height / 2;\n        \n        switch(origin_location) {\n            case BoundingBox.ORIGIN_CENTER:\n                return new BoundingBox(pos_x - half_width, pos_y - half_height,\n                                       pos_x + half_width, pos_y + half_height, \n                                       origin_location);\n            case BoundingBox.ORIGIN_LEFT_BOTTOM:\n                return new BoundingBox(pos_x, pos_y - height,\n                        pos_x + width, pos_y, \n                        origin_location);\n            case BoundingBox.ORIGIN_CENTER_BOTTOM:\n                return new BoundingBox(pos_x - half_width, pos_y - height,\n                        pos_x + half_width, pos_y, \n                        origin_location);\n            case BoundingBox.ORIGIN_RIGHT_BOTTOM:\n                return new BoundingBox(pos_x - width, pos_y - height,\n                        pos_x, pos_y, \n                        origin_location);\n            case BoundingBox.ORIGIN_LEFT_CENTER:\n                return new BoundingBox(pos_x, pos_y - half_height,\n                                       pos_x + width, pos_y + half_height, \n                                       origin_location);\n            case BoundingBox.ORIGIN_LEFT_TOP:\n                return new BoundingBox(pos_x, pos_y,\n                        pos_x + width, pos_y + height, \n                        origin_location);\n                \n            case BoundingBox.ORIGIN_CENTER_TOP:\n                return new BoundingBox(pos_x - half_width, pos_y,\n                        pos_x + half_width, pos_y + height, \n                        origin_location);\n                \n            case BoundingBox.ORIGIN_RIGHT_TOP:\n                return new BoundingBox(pos_x - width, pos_y,\n                        pos_x, pos_y + height, \n                        origin_location); \n                \n            case BoundingBox.ORIGIN_RIGHT_CENTER:\n                return new BoundingBox(pos_x - width, pos_y - half_height,\n                                       pos_x, pos_y + half_height, \n                                       origin_location);\n        }\n    }\n    \n    getMinX() {\n        return this.min_x;\n    }\n    getMinY() {\n        return this.min_y;\n    }\n    getMaxX() {\n        return this.max_x;\n    }\n    getMaxY() {\n        return this.max_y;\n    }\n    getOrigin() {\n        return this.origin;\n    }\n    \n    getHeight()\n    {\n        return this.max_y - this.min_y;\n    }\n    \n    getWidth() \n    {\n        return this.max_x - this.min_x;\n    }\n    \n    check(bounding_box) \n    {\n        if(!(bounding_box instanceof BoundingBox)) {\n            throw new Error('Please provide a BoundingBox instance as argument to BoundingBox.intersects().');\n        }\n    }\n    \n    intersects(bounding_box) \n    {\n        this.check(bounding_box);\n        return ! ( \n                bounding_box.min_x > this.max_x \n             || bounding_box.max_x < this.min_x \n             || bounding_box.max_y < this.min_y \n             || bounding_box.min_y > this.max_y\n         );\n    }\n    \n    expand(bounding_box) \n    {\n        this.check(bounding_box);\n        \n        if(bounding_box.min_x < this.min_x) {\n            this.min_x = bounding_box.min_x;\n        }\n        if(bounding_box.min_y < this.min_y) {\n            this.min_y = bounding_box.min_y;\n        }\n        if(bounding_box.max_x > this.max_x) {\n            this.max_x = bounding_box.max_x;\n        }\n        if(bounding_box.max_y > this.max_y) {\n            this.max_y = bounding_box.max_y;\n        }\n    }\n    \n    clone() \n    {\n        return new BoundingBox(this.min_x, this.min_y, this.max_x, this.max_y, this.origin);\n    }\n}\n\nBoundingBox.ORIGIN_CENTER = 1;\nBoundingBox.ORIGIN_LEFT_BOTTOM = 2;\nBoundingBox.ORIGIN_RIGHT_BOTTOM = 3;\nBoundingBox.ORIGIN_CENTER_BOTTOM = 4;\nBoundingBox.ORIGIN_LEFT_CENTER = 5;\nBoundingBox.ORIGIN_LEFT_TOP = 6;\nBoundingBox.ORIGIN_CENTER_TOP = 7;\nBoundingBox.ORIGIN_RIGHT_TOP = 8;\nBoundingBox.ORIGIN_RIGHT_CENTER = 9;\n\nmodule.exports = BoundingBox;\n"]}